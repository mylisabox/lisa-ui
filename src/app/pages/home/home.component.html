<div class="row">

  <!-- Navigation Buttons -->
  <div class="col-md-3 left-menu shadow-box">
    <ul class="nav nav-pills nav-stacked">
      <li [ngClass]="{'active': _currentTab === tabType.FAV}">
        <a (click)="loadFavorites()">
          <span class="glyphicon glyphicon-star"></span>Favorites
          <span class="glyphicon glyphicon-chevron-right pull-right"></span>
        </a>
      </li>
      <li class="rooms" [ngClass]="{'active': _currentTab === tabType.ROOMS}">
        <a (click)="toggleRooms()">
          <span class="glyphicon glyphicon-home"></span>Rooms
          <span class="glyphicon glyphicon-chevron-right pull-right"></span>
        </a>
        <div class="rooms-list" #roomsList>
          <ul class="nav nav-pills nav-stacked">
            <li *ngFor="let room of _rooms">

              <a *ngIf="_currentEditedRoom!=room" (click)="retrieveDevicesForRoom(room)"
                 [ngClass]="{'active': _currentSelectedRoom == room}">
                <span>{{room.name}}</span>
                <span (click)="editRoom(room)" class="glyphicon glyphicon-pencil pull-right"></span>
              </a>
              <a *ngIf="_currentEditedRoom==room">
                <input #nameInput focus (keyup.enter)="updateRoom(room, nameInput.value)" value="{{room.name}}"/>
                <span (click)="clearEditRoom()" class="glyphicon glyphicon-remove pull-right"></span>
                <span (click)="askForRemoveRoom(room)" class="glyphicon glyphicon-trash pull-right"></span>
              </a>
            </li>
          </ul>
          <div class="add-room-container" (click)="addRoom($event)">
            <input #roomInput (keyup.enter)="addRoom()" type="text" placeholder="Add room"/>
          </div>
        </div>
      </li>
      <li [ngClass]="{'active': _currentTab === tabType.NEW_DEVICES}">
        <a (click)="loadNewDevices()">
          <span class="glyphicon glyphicon-dashboard"></span>New devices
          <span class="glyphicon glyphicon-chevron-right pull-right"></span>
        </a>
      </li>
    </ul>
  </div>

  <!-- Content -->
  <div class="col-md-9">
    <div class="tab-content">
      <dashboard #dashboard [margin]="dashboardMargin" [widgetsSize]="widgetsSize"></dashboard>
    </div>
  </div>
</div>

<confirm-modal #modalDeleteRoom *ngIf="_currentEditedRoom">
  Are you sure you want to delete {{_currentEditedRoom.name}} ?
</confirm-modal>
